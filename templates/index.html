{% extends "base.html" %}

{% block meta %}
<!-- Open Graph / Facebook Meta Tags -->
<meta property="og:type" content="website">
<meta property="og:url" content="https://blog.joshattic.us/">
<meta property="og:title" content="JoshAtticus Blog">
<meta property="og:description" content="Personal blog of JoshAtticus featuring tech, programming, and more.">
<meta property="og:image" content="https://blog.joshattic.us/assets/default-banner.jpg">

<!-- Twitter Meta Tags -->
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:title" content="JoshAtticus Blog">
<meta name="twitter:description" content="Personal blog of JoshAtticus featuring tech, programming, and more.">
<meta name="twitter:image" content="https://blog.joshattic.us/assets/default-banner.jpg">
{% endblock %}

{% block content %}
<div class="post-grid">
  {% for post in posts %}
  <article>
    <div class="post-card">
      <div class="card-image">
        <img src="/{{ post.image }}" alt="{{ post.title }} featured image">
        <div class="card-title-overlay">
          <h2><a href="/posts/{{ post.slug }}">{{ post.title }}</a></h2>
          <div class="date">{{ post.date }}</div>
        </div>
      </div>
      <div class="card-content">
        <div class="card-summary">
          {{ post.summary }}
        </div>
        {% if post.tags %}
        <div class="tags">
          {% for tag in post.tags %}
          <a href="/tags/{{ tag|lower|replace(' ', '-') }}" class="tag">{{ tag }}</a>
          {% endfor %}
        </div>
        {% endif %}
      </div>
    </div>
  </article>
  {% endfor %}
</div>

{% if total_pages > 1 %}
<div class="pagination">
  {% if page > 1 %}
  <a href="/?page={{ page - 1 }}" class="pagination-btn">← Previous</a>
  {% else %}
  <span class="pagination-btn disabled">← Previous</span>
  {% endif %}

  <div class="pagination-numbers">
    {% for p in range(1, total_pages + 1) %}
    {% if p == page %}
    <span class="pagination-number active">{{ p }}</span>
    {% elif p == 1 or p == total_pages or (p >= page - 2 and p <= page + 2) %} <a href="/?page={{ p }}"
      class="pagination-number">{{ p }}</a>
      {% elif p == page - 3 or p == page + 3 %}
      <span class="pagination-ellipsis">...</span>
      {% endif %}
      {% endfor %}
  </div>

  {% if page < total_pages %} <a href="/?page={{ page + 1 }}" class="pagination-btn">Next →</a>
    {% else %}
    <span class="pagination-btn disabled">Next →</span>
    {% endif %}
</div>
{% endif %}
{% endblock %}

{% block scripts %}
<script src="/static/js/index.js"></script>
{% endblock %}